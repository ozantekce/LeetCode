import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collections;
import java.util.List;

public class Greatest_Sum_Divisible_by_Three_1262 {


    public static void main(String[] args) {

        int nums2[] ={972,944,817,475,436,623,900,268,25,263,627,799,38,943,968,17,813,139,772,333,498,593,567,556,550,40,4,862,915,935,366,253,994,893,47,211,332,854,73,694,37,63,789,785,419,129,170,404,854,424,712,784,539,697,478,978,509,76,528,65,194,352,986,713,730,223,858,366,71,18,60,8,835,70,349,905,446,593,909,592,95,280,900,887,303,245,612,708,7,58,564,577,718,410,512,637,535,432,332,770};
        int nums [] = {366,809,6,792,822,181,210,588,344,618,341,410,121,864,191,749,637,169,123,472,358,908,235,914,322,946,738,754,908,272,267,326,587,267,803,281,586,707,94,627,724,469,568,57,103,984,787,552,14,545,866,494,263,157,479,823,835,100,495,773,729,921,348,871,91,386,183,979,716,806,639,290,612,322,289,910,484,300,195,546,499,213,8,623,490,473,603,721,793,418,551,331,598,670,960,483,154,317,834,352};

        int nums3[] ={3,6,5,1,8};
        System.out.println(maxSumDivThree(nums3));

    }


    public static int maxSumDivThree(int[] nums) {

        int DP[][] = new int[nums.length][3];
        DP[0][nums[0]%3] = nums[0];
        for (int i = 1; i < nums.length; i++) {

            for (int j = 0; j < 3; j++) {
                DP[i][j] = DP[i-1][j];
            }
            int sums[] = new int[3];
            for (int j = 0; j < 3; j++) {
                sums[j] = DP[i-1][j]+nums[i];
            }
            for (int j = 0; j < 3; j++) {
                DP[i][sums[j]%3] = Math.max(DP[i][sums[j]%3],sums[j]);
            }


        }


        return DP[DP.length-1][0];
    }



}
